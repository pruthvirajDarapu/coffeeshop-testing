<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>COFFEE CARTEL - Login</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="Login to COFFEE CARTEL for specialty coffee, tea, breakfast, and more in Vijayawada.">
   <meta name="author" content="COFFEE CARTEL">
   <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
   <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
   <!-- COFFEE CARTEL Minimal Header -->
   <div class="text-center my-4">
      <a href="index.html">
         <img src="images/logo.jpg" alt="COFFEE CARTEL Logo" style="height: 60px;" class="img-fluid">
      </a>
      <h1 class="login_taital" style="font-family: 'Segoe UI',sans-serif; font-weight:700;">Login to COFFEE CARTEL</h1>
   </div>
   <div class="header_section">
      <div class="container-fluid">
         <!-- ...existing code... -->
      </div>
      <div style="clear: both;"></div>
      <div style="background-color: #f8f9fa; padding: 10px 0; text-align: center;">
         <marquee behavior="scroll" direction="left" style="color: #ff5733; font-weight: bold; font-size: 18px;">
            Launching Very Soon!
         </marquee>
      </div>
   </div>
   <div class="container" style="max-width: 400px; margin-top: 20px;">
      <h2 class="mb-4 text-center">Customer Login</h2>
      <form id="loginForm">
         <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" name="email" required>
         </div>
         <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" name="password" required>
         </div>
         <button type="submit" class="btn btn-primary btn-block">Login</button>
         <div class="mt-3 text-center">
            <a href="register.html">Create New User</a> | 
            <a href="forgot-password.html">Forgot Password?</a>
         </div>
         <div id="loginError" class="text-danger mt-2" style="display:none;">Invalid credentials.</div>
      </form>
   </div>
   
   <p class="footer_text">At COFFEE CARTEL, our values are the heart of everything we do. <!-- ...etc... --></p>
   <span class="padding_left_10">Email : coffeecartel@gmail.com</span>
   <script>
      document.getElementById('loginForm').onsubmit = async function(e) {
         e.preventDefault();
         const email = this.email.value;
         const password = this.password.value;
         const errorDiv = document.getElementById('loginError');
         errorDiv.style.display = 'none';

         try {
            const res = await fetch('/api/login', {
               method: 'POST',
               headers: { 'Content-Type': 'application/json' },
               body: JSON.stringify({ email, password })
            });
            if (res.ok) {
               // Optionally store token/session here
               window.location.href = "index.html";
            } else {
               errorDiv.textContent = "Invalid credentials.";
               errorDiv.style.display = 'block';
            }
         } catch {
            errorDiv.textContent = "Server error. Please try again.";
            errorDiv.style.display = 'block';
         }
      }
   </script>
</body>
</html>
